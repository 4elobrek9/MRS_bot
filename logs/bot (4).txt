2025-07-18 15:30:45,941 - WARNING - core.main.ez_main - CHANNEL_ID is not set or invalid. Jokes task will be disabled.
2025-07-18 15:30:46,104 - DEBUG - asyncio - Using proactor: IocpProactor
2025-07-18 15:30:46,105 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.
2025-07-18 15:30:46,105 - INFO - core.group.stat.smain - ProfileManager instance initialized.
2025-07-18 15:30:46,105 - DEBUG - core.group.stat.smain - Attempting to connect to profiles database asynchronously.
2025-07-18 15:30:46,105 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000001A4347F1440>
2025-07-18 15:30:46,106 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000001A4347F1440> completed
2025-07-18 15:30:46,107 - INFO - core.group.stat.smain - Profiles database connected asynchronously.
2025-07-18 15:30:46,107 - DEBUG - core.group.stat.smain - Starting asynchronous profiles database schema initialization.
2025-07-18 15:30:46,107 - DEBUG - aiosqlite - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001A4347B54E0>)
2025-07-18 15:30:46,107 - DEBUG - aiosqlite - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x000001A4347B54E0>) completed
2025-07-18 15:30:46,107 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', [])
2025-07-18 15:30:46,109 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', []) completed
2025-07-18 15:30:46,109 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', [])
2025-07-18 15:30:46,109 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', []) completed
2025-07-18 15:30:46,109 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', [])
2025-07-18 15:30:46,110 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x000001A4347F58C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', []) completed
2025-07-18 15:30:46,110 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A4347B54E0>)
2025-07-18 15:30:46,110 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A4347B54E0>) completed
2025-07-18 15:30:46,110 - INFO - core.group.stat.smain - Asynchronous profiles database tables checked/created.
2025-07-18 15:30:46,110 - INFO - core.group.stat.smain - Asynchronous profiles database schema check/initialization completed.
2025-07-18 15:30:46,110 - INFO - core.main.ez_main - main: ProfileManager –ø–æ–¥–∫–ª—é—á–µ–Ω.
2025-07-18 15:30:46,111 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2025-07-18 15:30:46,111 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000001A4347F16C0>
2025-07-18 15:30:46,111 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000001A4347F16C0> completed
2025-07-18 15:30:46,111 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', [])
2025-07-18 15:30:46,112 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', []) completed
2025-07-18 15:30:46,112 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:30:46,112 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:30:46,112 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:30:46,113 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:30:46,113 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', [])
2025-07-18 15:30:46,113 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', []) completed
2025-07-18 15:30:46,114 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:30:46,114 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:30:46,114 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:30:46,114 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:30:46,115 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', [])
2025-07-18 15:30:46,115 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', []) completed
2025-07-18 15:30:46,115 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', [])
2025-07-18 15:30:46,116 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', []) completed
2025-07-18 15:30:46,116 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:30:46,116 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B57B0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:30:46,117 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A4347B57B0>)
2025-07-18 15:30:46,117 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A4347B57B0>) completed
2025-07-18 15:30:46,117 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B57B0>)
2025-07-18 15:30:46,117 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B57B0>) completed
2025-07-18 15:30:46,117 - INFO - database - Database initialized successfully.
2025-07-18 15:30:46,118 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è StickerManager –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä–æ–≤.
2025-07-18 15:30:46,119 - INFO - core.main.ez_main - Stickers loaded from cache.
2025-07-18 15:30:46,119 - INFO - core.main.ez_main - Fetching stickers from Telegram...
2025-07-18 15:30:46,119 - INFO - core.main.ez_main - Stickers for mode 'saharoza' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:30:46,119 - INFO - core.main.ez_main - Stickers for mode 'dedinside' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:30:46,119 - INFO - core.main.ez_main - Stickers for mode 'genius' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:30:46,120 - INFO - core.main.ez_main - Stickers saved to cache.
2025-07-18 15:30:46,120 - DEBUG - core.main.ez_main - main: –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:30:46,120 - INFO - core.main.ez_main - main: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã (–ø–µ—Ä–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –≥—Ä—É–ø–ø).
2025-07-18 15:30:46,120 - DEBUG - censor_module - setup_censor_handlers: –ù–∞—á–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã.
2025-07-18 15:30:46,121 - DEBUG - censor_module - censor_module.load_bad_words: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞: C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt
2025-07-18 15:30:46,121 - INFO - censor_module - censor_module.load_bad_words: –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 43 –∫–æ—Ä–Ω–µ–π '–∑–ª—ã—Ö' —Å–ª–æ–≤ –∏–∑ C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt.
2025-07-18 15:30:46,121 - DEBUG - censor_module - setup_censor_handlers: –í–∫–ª—é—á–µ–Ω–∏–µ censor_router –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:30:46,121 - INFO - censor_module - setup_censor_handlers: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:30:46,121 - INFO - core.main.ez_main - main: –ú–æ–¥—É–ª—å —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω.
2025-07-18 15:30:46,121 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
2025-07-18 15:30:46,121 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ stat_router –≤ group_text_router.
2025-07-18 15:30:46,121 - INFO - core.group.stat.smain - Registering stat router handlers.
2025-07-18 15:30:46,121 - INFO - core.group.stat.smain - Stat router included in Dispatcher.
2025-07-18 15:30:46,122 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ rp_router –≤ group_text_router.
2025-07-18 15:30:46,122 - INFO - core.group.RP.rmain - RP router included and configured.
2025-07-18 15:30:46,122 - INFO - core.main.ez_main - main: group_text_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:30:46,123 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:30:46,123 - INFO - core.main.ez_main - main: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥ –¢–û–õ–¨–ö–û –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:30:46,123 - INFO - core.main.ez_main - main: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –õ–° –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ private_router.
2025-07-18 15:30:46,124 - INFO - core.main.ez_main - main: private_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:30:46,124 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
2025-07-18 15:30:46,124 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –ø–æ–ª–ª–∏–Ω–≥–∞ –±–æ—Ç–∞...
2025-07-18 15:30:46,124 - INFO - aiogram.dispatcher - Start polling
2025-07-18 15:30:46,124 - INFO - core.main.ez_main - Jokes task started.
2025-07-18 15:30:46,124 - WARNING - core.main.ez_main - Jokes task disabled: CHANNEL_ID is not set or invalid.
2025-07-18 15:30:46,124 - INFO - core.group.RP.rmain - Periodic HP recovery task started.
2025-07-18 15:30:46,842 - INFO - aiogram.dispatcher - Run polling for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:30:48,224 - DEBUG - censor_module - censor_message_handler: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: '–ø—Ä–æ—Ñ–∏–ª—å' –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –≤ —á–∞—Ç–µ -1002640920461.
2025-07-18 15:30:48,225 - DEBUG - censor_module - censor_message_handler: –í—ã–∑–æ–≤ censor_text_func –¥–ª—è —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:30:48,225 - DEBUG - censor_module - censor_module.censor_text_func: –ù–∞—á–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å' —Å –∫–æ—Ä–Ω—è–º–∏: ['–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '—Ö—É–µ', '–¥–æ–ª–±–∞', '–ø–µ–Ω', '–µ–±', '—ë–±', '–±–ª', '—Å–ø–µ—Ä–º', '—à–ª—é', '—Å–æ—Å–∞', '–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '–æ–≤–æ—â', '–æ–∫–∞–∫', '–∫–æ—Ä–æ—á–µ', '–ø–∏–∑–¥–∞', '—É—ë–±–∏—â–µ', '–±–¥—Å–º', '—Ñ–µ—Ç–∏—à', '—Ñ–∞—à–∏—Å—Ç', '–∞–¥–æ–ª—å—Ñ', '–≥–∏—Ç–ª–µ—Ä', '—Å—Ç–∏–Ω—Ç–ª–µ—Ä', '—à–ª—é—Ö', '—Ä–∞—Ñ', '–∫—É–Ω', '–¥–∞–Ω—è', '—á–µ–ª–æ–±—Ä–µ–∫', '–º–∞–º–∞', '–º–∞—Ç—å', '—Å–µ–∫—Å', '–ø–∞–ø–∞', '–±–∞—Ç—è', '–æ—Ç–µ—Ü', '–º–∏–Ω–µ—Ç', '–±–ª—è', '–∫—É–Ω–∏–ª–∏–Ω–≥—É—Å', '—Ç—Ä–∞—Ö']
2025-07-18 15:30:48,226 - DEBUG - censor_module - censor_module.censor_text_func: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–µ+\w*)\b|\b(?:\w*–¥+\W*–æ+\W*–ª+\W*–±+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–µ+\W*–±+\w*)\b|\b(?:\w*—ë+\W*–±+\w*)\b|\b(?:\w*–±+\W*–ª+\w*)\b|\b(?:\w*—Å+\W*–ø+\W*–µ+\W*—Ä+\W*–º+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\w*)\b|\b(?:\w*—Å+\W*–æ+\W*—Å+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–æ+\W*–≤+\W*–æ+\W*—â+\w*)\b|\b(?:\w*–æ+\W*–∫+\W*–∞+\W*–∫+\w*)\b|\b(?:\w*–∫+\W*–æ+\W*—Ä+\W*–æ+\W*—á+\W*–µ+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—É+\W*—ë+\W*–±+\W*–∏+\W*—â+\W*–µ+\w*)\b|\b(?:\w*–±+\W*–¥+\W*—Å+\W*–º+\w*)\b|\b(?:\w*—Ñ+\W*–µ+\W*—Ç+\W*–∏+\W*—à+\w*)\b|\b(?:\w*—Ñ+\W*–∞+\W*—à+\W*–∏+\W*—Å+\W*—Ç+\w*)\b|\b(?:\w*–∞+\W*–¥+\W*–æ+\W*–ª+\W*—å+\W*—Ñ+\w*)\b|\b(?:\w*–≥+\W*–∏+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—Å+\W*—Ç+\W*–∏+\W*–Ω+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\W*—Ö+\w*)\b|\b(?:\w*—Ä+\W*–∞+\W*—Ñ+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\w*)\b|\b(?:\w*–¥+\W*–∞+\W*–Ω+\W*—è+\w*)\b|\b(?:\w*—á+\W*–µ+\W*–ª+\W*–æ+\W*–±+\W*—Ä+\W*–µ+\W*–∫+\w*)\b|\b(?:\w*–º+\W*–∞+\W*–º+\W*–∞+\w*)\b|\b(?:\w*–º+\W*–∞+\W*—Ç+\W*—å+\w*)\b|\b(?:\w*—Å+\W*–µ+\W*–∫+\W*—Å+\w*)\b|\b(?:\w*–ø+\W*–∞+\W*–ø+\W*–∞+\w*)\b|\b(?:\w*–±+\W*–∞+\W*—Ç+\W*—è+\w*)\b|\b(?:\w*–æ+\W*—Ç+\W*–µ+\W*—Ü+\w*)\b|\b(?:\w*–º+\W*–∏+\W*–Ω+\W*–µ+\W*—Ç+\w*)\b|\b(?:\w*–±+\W*–ª+\W*—è+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\W*–∏+\W*–ª+\W*–∏+\W*–Ω+\W*–≥+\W*—É+\W*—Å+\w*)\b|\b(?:\w*—Ç+\W*—Ä+\W*–∞+\W*—Ö+\w*)\b'
2025-07-18 15:30:48,264 - DEBUG - censor_module - censor_module.censor_text_func: –ö–æ–Ω–µ—á–Ω—ã–π —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: '–ø—Ä–æ—Ñ–∏–ª—å', –ë—ã–ª–æ –ª–∏ —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–æ: False
2025-07-18 15:30:48,264 - DEBUG - censor_module - censor_message_handler: –†–µ–∑—É–ª—å—Ç–∞—Ç censor_text_func: was_censored=False
2025-07-18 15:30:48,264 - DEBUG - censor_module - censor_message_handler: –¶–ï–ù–ó–£–†–ê –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–ê: –û—Ä–∏–≥–∏–Ω–∞–ª: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:30:48,265 - DEBUG - censor_module - censor_message_handler: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ü–µ–Ω–∑—É—Ä—ã. –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
2025-07-18 15:30:48,265 - INFO - aiogram.event - Update id=836455717 is handled. Duration 46 ms by bot id=6543660809
2025-07-18 15:31:46,135 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000001A4347F3D80>
2025-07-18 15:31:46,136 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000001A4347F3D80> completed
2025-07-18 15:31:46,137 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6E30>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752841906.1356723))
2025-07-18 15:31:46,138 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6E30>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752841906.1356723)) completed
2025-07-18 15:31:46,139 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:31:46,140 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:31:46,141 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:31:46,141 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:31:46,142 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6E30>)
2025-07-18 15:31:46,143 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6E30>) completed
2025-07-18 15:32:46,158 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000001A434832980>
2025-07-18 15:32:46,159 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000001A434832980> completed
2025-07-18 15:32:46,159 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6F20>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752841966.1586623))
2025-07-18 15:32:46,160 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6F20>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752841966.1586623)) completed
2025-07-18 15:32:46,160 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:32:46,160 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:32:46,161 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:32:46,161 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:32:46,161 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6F20>)
2025-07-18 15:32:46,162 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6F20>) completed
2025-07-18 15:33:46,164 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000001A42DA5FBA0>
2025-07-18 15:33:46,165 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000001A42DA5FBA0> completed
2025-07-18 15:33:46,165 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6E30>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842026.1645062))
2025-07-18 15:33:46,165 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A4347B6E30>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842026.1645062)) completed
2025-07-18 15:33:46,165 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:33:46,166 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:33:46,166 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>)
2025-07-18 15:33:46,166 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001A4337A6D40>) completed
2025-07-18 15:33:46,166 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6E30>)
2025-07-18 15:33:46,167 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B6E30>) completed
2025-07-18 15:34:42,991 - INFO - aiogram.dispatcher - Polling stopped
2025-07-18 15:34:43,253 - INFO - core.main.ez_main - main: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞...
2025-07-18 15:34:43,253 - INFO - core.main.ez_main - main: –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω—ã.
2025-07-18 15:34:43,253 - DEBUG - core.group.stat.smain - Attempting to close profiles database connection.
2025-07-18 15:34:43,253 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B54E0>)
2025-07-18 15:34:43,254 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A4347B54E0>) completed
2025-07-18 15:34:43,254 - INFO - core.group.stat.smain - Profiles database connection closed successfully.
2025-07-18 15:34:43,254 - INFO - core.main.ez_main - main: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ProfileManager –∑–∞–∫—Ä—ã—Ç–æ.
2025-07-18 15:34:43,254 - INFO - core.main.ez_main - main: –°–µ—Å—Å–∏—è –±–æ—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∞. –í—ã—Ö–æ–¥.
2025-07-18 15:34:43,255 - INFO - aiogram.dispatcher - Polling stopped for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:34:43,256 - INFO - core.main.ez_main - main: –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é (KeyboardInterrupt).
2025-07-18 15:34:45,751 - WARNING - core.main.ez_main - CHANNEL_ID is not set or invalid. Jokes task will be disabled.
2025-07-18 15:34:45,922 - DEBUG - asyncio - Using proactor: IocpProactor
2025-07-18 15:34:45,923 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.
2025-07-18 15:34:45,923 - INFO - core.group.stat.smain - ProfileManager instance initialized.
2025-07-18 15:34:45,924 - DEBUG - core.group.stat.smain - Attempting to connect to profiles database asynchronously.
2025-07-18 15:34:45,924 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C085513A0>
2025-07-18 15:34:45,924 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C085513A0> completed
2025-07-18 15:34:45,925 - INFO - core.group.stat.smain - Profiles database connected asynchronously.
2025-07-18 15:34:45,925 - DEBUG - core.group.stat.smain - Starting asynchronous profiles database schema initialization.
2025-07-18 15:34:45,925 - DEBUG - aiosqlite - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000020C085255D0>)
2025-07-18 15:34:45,925 - DEBUG - aiosqlite - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000020C085255D0>) completed
2025-07-18 15:34:45,925 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', [])
2025-07-18 15:34:45,926 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', []) completed
2025-07-18 15:34:45,926 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', [])
2025-07-18 15:34:45,926 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', []) completed
2025-07-18 15:34:45,927 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', [])
2025-07-18 15:34:45,927 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000020C085658C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', []) completed
2025-07-18 15:34:45,927 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020C085255D0>)
2025-07-18 15:34:45,927 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020C085255D0>) completed
2025-07-18 15:34:45,927 - INFO - core.group.stat.smain - Asynchronous profiles database tables checked/created.
2025-07-18 15:34:45,928 - INFO - core.group.stat.smain - Asynchronous profiles database schema check/initialization completed.
2025-07-18 15:34:45,928 - INFO - core.main.ez_main - main: ProfileManager –ø–æ–¥–∫–ª—é—á–µ–Ω.
2025-07-18 15:34:45,928 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2025-07-18 15:34:45,928 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C08551620>
2025-07-18 15:34:45,928 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C08551620> completed
2025-07-18 15:34:45,929 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', [])
2025-07-18 15:34:45,929 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', []) completed
2025-07-18 15:34:45,930 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:34:45,930 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:34:45,930 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:34:45,930 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:34:45,931 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', [])
2025-07-18 15:34:45,931 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', []) completed
2025-07-18 15:34:45,931 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:34:45,931 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:34:45,932 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:34:45,932 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:34:45,932 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', [])
2025-07-18 15:34:45,932 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', []) completed
2025-07-18 15:34:45,933 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', [])
2025-07-18 15:34:45,933 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', []) completed
2025-07-18 15:34:45,933 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:34:45,933 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085258A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:34:45,934 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020C085258A0>)
2025-07-18 15:34:45,935 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000020C085258A0>) completed
2025-07-18 15:34:45,935 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085258A0>)
2025-07-18 15:34:45,935 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085258A0>) completed
2025-07-18 15:34:45,936 - INFO - database - Database initialized successfully.
2025-07-18 15:34:45,936 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è StickerManager –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä–æ–≤.
2025-07-18 15:34:45,936 - INFO - core.main.ez_main - Stickers loaded from cache.
2025-07-18 15:34:45,937 - INFO - core.main.ez_main - Fetching stickers from Telegram...
2025-07-18 15:34:45,937 - INFO - core.main.ez_main - Stickers for mode 'saharoza' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:34:45,937 - INFO - core.main.ez_main - Stickers for mode 'dedinside' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:34:45,937 - INFO - core.main.ez_main - Stickers for mode 'genius' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:34:45,937 - INFO - core.main.ez_main - Stickers saved to cache.
2025-07-18 15:34:45,938 - DEBUG - core.main.ez_main - main: –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:34:45,938 - INFO - core.main.ez_main - main: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã (–ø–µ—Ä–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –≥—Ä—É–ø–ø).
2025-07-18 15:34:45,938 - DEBUG - censor_module - setup_censor_handlers: –ù–∞—á–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã.
2025-07-18 15:34:45,938 - DEBUG - censor_module - censor_module.load_bad_words: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞: C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt
2025-07-18 15:34:45,938 - INFO - censor_module - censor_module.load_bad_words: –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 43 –∫–æ—Ä–Ω–µ–π '–∑–ª—ã—Ö' —Å–ª–æ–≤ –∏–∑ C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt.
2025-07-18 15:34:45,938 - DEBUG - censor_module - setup_censor_handlers: –í–∫–ª—é—á–µ–Ω–∏–µ censor_router –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:34:45,939 - INFO - censor_module - setup_censor_handlers: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:34:45,939 - INFO - core.main.ez_main - main: –ú–æ–¥—É–ª—å —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω.
2025-07-18 15:34:45,939 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
2025-07-18 15:34:45,939 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ stat_router –≤ group_text_router.
2025-07-18 15:34:45,940 - INFO - core.group.stat.smain - Registering stat router handlers.
2025-07-18 15:34:45,940 - INFO - core.group.stat.smain - Stat router included in Dispatcher.
2025-07-18 15:34:45,940 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ rp_router –≤ group_text_router.
2025-07-18 15:34:45,940 - INFO - core.group.RP.rmain - RP router included and configured.
2025-07-18 15:34:45,940 - INFO - core.main.ez_main - main: group_text_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥ –¢–û–õ–¨–ö–û –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –õ–° –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ private_router.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: private_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
2025-07-18 15:34:45,942 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –ø–æ–ª–ª–∏–Ω–≥–∞ –±–æ—Ç–∞...
2025-07-18 15:34:45,943 - INFO - aiogram.dispatcher - Start polling
2025-07-18 15:34:45,943 - INFO - core.main.ez_main - Jokes task started.
2025-07-18 15:34:45,943 - WARNING - core.main.ez_main - Jokes task disabled: CHANNEL_ID is not set or invalid.
2025-07-18 15:34:45,943 - INFO - core.group.RP.rmain - Periodic HP recovery task started.
2025-07-18 15:34:46,915 - INFO - aiogram.dispatcher - Run polling for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:34:48,143 - DEBUG - censor_module - censor_message_handler: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: '–ø—Ä–æ—Ñ–∏–ª—å' –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –≤ —á–∞—Ç–µ -1002640920461.
2025-07-18 15:34:48,143 - DEBUG - censor_module - censor_message_handler: –í—ã–∑–æ–≤ censor_text_func –¥–ª—è —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:34:48,144 - DEBUG - censor_module - censor_module.censor_text_func: –ù–∞—á–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å' —Å –∫–æ—Ä–Ω—è–º–∏: ['–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '—Ö—É–µ', '–¥–æ–ª–±–∞', '–ø–µ–Ω', '–µ–±', '—ë–±', '–±–ª', '—Å–ø–µ—Ä–º', '—à–ª—é', '—Å–æ—Å–∞', '–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '–æ–≤–æ—â', '–æ–∫–∞–∫', '–∫–æ—Ä–æ—á–µ', '–ø–∏–∑–¥–∞', '—É—ë–±–∏—â–µ', '–±–¥—Å–º', '—Ñ–µ—Ç–∏—à', '—Ñ–∞—à–∏—Å—Ç', '–∞–¥–æ–ª—å—Ñ', '–≥–∏—Ç–ª–µ—Ä', '—Å—Ç–∏–Ω—Ç–ª–µ—Ä', '—à–ª—é—Ö', '—Ä–∞—Ñ', '–∫—É–Ω', '–¥–∞–Ω—è', '—á–µ–ª–æ–±—Ä–µ–∫', '–º–∞–º–∞', '–º–∞—Ç—å', '—Å–µ–∫—Å', '–ø–∞–ø–∞', '–±–∞—Ç—è', '–æ—Ç–µ—Ü', '–º–∏–Ω–µ—Ç', '–±–ª—è', '–∫—É–Ω–∏–ª–∏–Ω–≥—É—Å', '—Ç—Ä–∞—Ö']
2025-07-18 15:34:48,144 - DEBUG - censor_module - censor_module.censor_text_func: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–µ+\w*)\b|\b(?:\w*–¥+\W*–æ+\W*–ª+\W*–±+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–µ+\W*–±+\w*)\b|\b(?:\w*—ë+\W*–±+\w*)\b|\b(?:\w*–±+\W*–ª+\w*)\b|\b(?:\w*—Å+\W*–ø+\W*–µ+\W*—Ä+\W*–º+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\w*)\b|\b(?:\w*—Å+\W*–æ+\W*—Å+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–æ+\W*–≤+\W*–æ+\W*—â+\w*)\b|\b(?:\w*–æ+\W*–∫+\W*–∞+\W*–∫+\w*)\b|\b(?:\w*–∫+\W*–æ+\W*—Ä+\W*–æ+\W*—á+\W*–µ+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—É+\W*—ë+\W*–±+\W*–∏+\W*—â+\W*–µ+\w*)\b|\b(?:\w*–±+\W*–¥+\W*—Å+\W*–º+\w*)\b|\b(?:\w*—Ñ+\W*–µ+\W*—Ç+\W*–∏+\W*—à+\w*)\b|\b(?:\w*—Ñ+\W*–∞+\W*—à+\W*–∏+\W*—Å+\W*—Ç+\w*)\b|\b(?:\w*–∞+\W*–¥+\W*–æ+\W*–ª+\W*—å+\W*—Ñ+\w*)\b|\b(?:\w*–≥+\W*–∏+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—Å+\W*—Ç+\W*–∏+\W*–Ω+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\W*—Ö+\w*)\b|\b(?:\w*—Ä+\W*–∞+\W*—Ñ+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\w*)\b|\b(?:\w*–¥+\W*–∞+\W*–Ω+\W*—è+\w*)\b|\b(?:\w*—á+\W*–µ+\W*–ª+\W*–æ+\W*–±+\W*—Ä+\W*–µ+\W*–∫+\w*)\b|\b(?:\w*–º+\W*–∞+\W*–º+\W*–∞+\w*)\b|\b(?:\w*–º+\W*–∞+\W*—Ç+\W*—å+\w*)\b|\b(?:\w*—Å+\W*–µ+\W*–∫+\W*—Å+\w*)\b|\b(?:\w*–ø+\W*–∞+\W*–ø+\W*–∞+\w*)\b|\b(?:\w*–±+\W*–∞+\W*—Ç+\W*—è+\w*)\b|\b(?:\w*–æ+\W*—Ç+\W*–µ+\W*—Ü+\w*)\b|\b(?:\w*–º+\W*–∏+\W*–Ω+\W*–µ+\W*—Ç+\w*)\b|\b(?:\w*–±+\W*–ª+\W*—è+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\W*–∏+\W*–ª+\W*–∏+\W*–Ω+\W*–≥+\W*—É+\W*—Å+\w*)\b|\b(?:\w*—Ç+\W*—Ä+\W*–∞+\W*—Ö+\w*)\b'
2025-07-18 15:34:48,184 - DEBUG - censor_module - censor_module.censor_text_func: –ö–æ–Ω–µ—á–Ω—ã–π —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: '–ø—Ä–æ—Ñ–∏–ª—å', –ë—ã–ª–æ –ª–∏ —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–æ: False
2025-07-18 15:34:48,184 - DEBUG - censor_module - censor_message_handler: –†–µ–∑—É–ª—å—Ç–∞—Ç censor_text_func: was_censored=False
2025-07-18 15:34:48,184 - DEBUG - censor_module - censor_message_handler: –¶–ï–ù–ó–£–†–ê –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–ê: –û—Ä–∏–≥–∏–Ω–∞–ª: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:34:48,184 - DEBUG - censor_module - censor_message_handler: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ü–µ–Ω–∑—É—Ä—ã. –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
2025-07-18 15:34:48,185 - INFO - aiogram.event - Update id=836455718 is handled. Duration 47 ms by bot id=6543660809
2025-07-18 15:35:45,956 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C01541620>
2025-07-18 15:35:45,957 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C01541620> completed
2025-07-18 15:35:45,958 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085271F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842145.9550946))
2025-07-18 15:35:45,959 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085271F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842145.9550946)) completed
2025-07-18 15:35:45,960 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:35:45,960 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:35:45,960 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:35:45,960 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:35:45,961 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085271F0>)
2025-07-18 15:35:45,961 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085271F0>) completed
2025-07-18 15:36:45,964 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C085A2AC0>
2025-07-18 15:36:45,965 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C085A2AC0> completed
2025-07-18 15:36:45,965 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C08527100>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842205.9642756))
2025-07-18 15:36:45,965 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C08527100>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842205.9642756)) completed
2025-07-18 15:36:45,966 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:36:45,966 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:36:45,966 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:36:45,966 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:36:45,966 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C08527100>)
2025-07-18 15:36:45,967 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C08527100>) completed
2025-07-18 15:37:45,968 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C017EFBA0>
2025-07-18 15:37:45,969 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C017EFBA0> completed
2025-07-18 15:37:45,969 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842265.9684172))
2025-07-18 15:37:45,969 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842265.9684172)) completed
2025-07-18 15:37:45,970 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:37:45,970 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:37:45,970 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:37:45,970 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:37:45,970 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>)
2025-07-18 15:37:45,971 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>) completed
2025-07-18 15:38:45,979 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C08553A60>
2025-07-18 15:38:45,980 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C08553A60> completed
2025-07-18 15:38:45,980 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842325.9790893))
2025-07-18 15:38:45,981 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842325.9790893)) completed
2025-07-18 15:38:45,981 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08507740>)
2025-07-18 15:38:45,981 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08507740>) completed
2025-07-18 15:38:45,982 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08507740>)
2025-07-18 15:38:45,982 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08507740>) completed
2025-07-18 15:38:45,982 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>)
2025-07-18 15:38:45,982 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>) completed
2025-07-18 15:39:45,994 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C0153F2E0>
2025-07-18 15:39:45,995 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C0153F2E0> completed
2025-07-18 15:39:45,995 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085271F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842385.9949687))
2025-07-18 15:39:45,996 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085271F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842385.9949687)) completed
2025-07-18 15:39:45,996 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:39:45,996 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:39:45,996 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>)
2025-07-18 15:39:45,997 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08506C40>) completed
2025-07-18 15:39:45,997 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085271F0>)
2025-07-18 15:39:45,997 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085271F0>) completed
2025-07-18 15:40:46,011 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000020C08553A60>
2025-07-18 15:40:46,012 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000020C08553A60> completed
2025-07-18 15:40:46,012 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842446.0111816))
2025-07-18 15:40:46,013 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000020C085267A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842446.0111816)) completed
2025-07-18 15:40:46,013 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08507740>)
2025-07-18 15:40:46,013 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000020C08507740>) completed
2025-07-18 15:40:46,013 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08507740>)
2025-07-18 15:40:46,014 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000020C08507740>) completed
2025-07-18 15:40:46,014 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>)
2025-07-18 15:40:46,014 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085267A0>) completed
2025-07-18 15:41:14,753 - INFO - aiogram.dispatcher - Polling stopped
2025-07-18 15:41:15,010 - INFO - core.main.ez_main - main: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞...
2025-07-18 15:41:15,010 - INFO - core.main.ez_main - main: –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω—ã.
2025-07-18 15:41:15,010 - DEBUG - core.group.stat.smain - Attempting to close profiles database connection.
2025-07-18 15:41:15,010 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085255D0>)
2025-07-18 15:41:15,011 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000020C085255D0>) completed
2025-07-18 15:41:15,011 - INFO - core.group.stat.smain - Profiles database connection closed successfully.
2025-07-18 15:41:15,011 - INFO - core.main.ez_main - main: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ProfileManager –∑–∞–∫—Ä—ã—Ç–æ.
2025-07-18 15:41:15,011 - INFO - core.main.ez_main - main: –°–µ—Å—Å–∏—è –±–æ—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∞. –í—ã—Ö–æ–¥.
2025-07-18 15:41:15,012 - INFO - aiogram.dispatcher - Polling stopped for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:41:15,012 - INFO - core.main.ez_main - main: –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é (KeyboardInterrupt).
2025-07-18 15:48:24,132 - WARNING - core.main.ez_main - CHANNEL_ID is not set or invalid. Jokes task will be disabled.
2025-07-18 15:48:24,302 - DEBUG - asyncio - Using proactor: IocpProactor
2025-07-18 15:48:24,303 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.
2025-07-18 15:48:24,303 - INFO - core.group.stat.smain - ProfileManager instance initialized.
2025-07-18 15:48:24,303 - DEBUG - core.group.stat.smain - Attempting to connect to profiles database asynchronously.
2025-07-18 15:48:24,303 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000023008EB1440>
2025-07-18 15:48:24,304 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000023008EB1440> completed
2025-07-18 15:48:24,304 - INFO - core.group.stat.smain - Profiles database connected asynchronously.
2025-07-18 15:48:24,304 - DEBUG - core.group.stat.smain - Starting asynchronous profiles database schema initialization.
2025-07-18 15:48:24,304 - DEBUG - aiosqlite - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000023008E855D0>)
2025-07-18 15:48:24,305 - DEBUG - aiosqlite - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000023008E855D0>) completed
2025-07-18 15:48:24,305 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', [])
2025-07-18 15:48:24,305 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', []) completed
2025-07-18 15:48:24,305 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', [])
2025-07-18 15:48:24,306 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', []) completed
2025-07-18 15:48:24,306 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', [])
2025-07-18 15:48:24,306 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000023008EC5740>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', []) completed
2025-07-18 15:48:24,306 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000023008E855D0>)
2025-07-18 15:48:24,307 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000023008E855D0>) completed
2025-07-18 15:48:24,307 - INFO - core.group.stat.smain - Asynchronous profiles database tables checked/created.
2025-07-18 15:48:24,307 - INFO - core.group.stat.smain - Asynchronous profiles database schema check/initialization completed.
2025-07-18 15:48:24,307 - INFO - core.main.ez_main - main: ProfileManager –ø–æ–¥–∫–ª—é—á–µ–Ω.
2025-07-18 15:48:24,307 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2025-07-18 15:48:24,308 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000023008EB16C0>
2025-07-18 15:48:24,308 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000023008EB16C0> completed
2025-07-18 15:48:24,308 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', [])
2025-07-18 15:48:24,308 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', []) completed
2025-07-18 15:48:24,309 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:48:24,309 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:48:24,309 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:48:24,310 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:48:24,310 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', [])
2025-07-18 15:48:24,310 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', []) completed
2025-07-18 15:48:24,310 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:48:24,311 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:48:24,311 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:48:24,311 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:48:24,311 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', [])
2025-07-18 15:48:24,311 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', []) completed
2025-07-18 15:48:24,312 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', [])
2025-07-18 15:48:24,312 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', []) completed
2025-07-18 15:48:24,313 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:48:24,313 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E858A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:48:24,313 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000023008E858A0>)
2025-07-18 15:48:24,313 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000023008E858A0>) completed
2025-07-18 15:48:24,314 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E858A0>)
2025-07-18 15:48:24,314 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E858A0>) completed
2025-07-18 15:48:24,314 - INFO - database - Database initialized successfully.
2025-07-18 15:48:24,314 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è StickerManager –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä–æ–≤.
2025-07-18 15:48:24,315 - INFO - core.main.ez_main - Stickers loaded from cache.
2025-07-18 15:48:24,315 - INFO - core.main.ez_main - Fetching stickers from Telegram...
2025-07-18 15:48:24,315 - INFO - core.main.ez_main - Stickers for mode 'saharoza' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:48:24,316 - INFO - core.main.ez_main - Stickers for mode 'dedinside' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:48:24,316 - INFO - core.main.ez_main - Stickers for mode 'genius' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:48:24,316 - INFO - core.main.ez_main - Stickers saved to cache.
2025-07-18 15:48:24,316 - DEBUG - core.main.ez_main - main: –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:48:24,316 - INFO - core.main.ez_main - main: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã (–ø–µ—Ä–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –≥—Ä—É–ø–ø).
2025-07-18 15:48:24,316 - DEBUG - censor_module - setup_censor_handlers: –ù–∞—á–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã.
2025-07-18 15:48:24,317 - DEBUG - censor_module - censor_module.load_bad_words: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞: C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt
2025-07-18 15:48:24,317 - INFO - censor_module - censor_module.load_bad_words: –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 43 –∫–æ—Ä–Ω–µ–π '–∑–ª—ã—Ö' —Å–ª–æ–≤ –∏–∑ C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt.
2025-07-18 15:48:24,317 - DEBUG - censor_module - setup_censor_handlers: –í–∫–ª—é—á–µ–Ω–∏–µ censor_router –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:48:24,317 - INFO - censor_module - setup_censor_handlers: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:48:24,317 - INFO - core.main.ez_main - main: –ú–æ–¥—É–ª—å —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω.
2025-07-18 15:48:24,317 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
2025-07-18 15:48:24,317 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ stat_router –≤ group_text_router.
2025-07-18 15:48:24,317 - INFO - core.group.stat.smain - Registering stat router handlers.
2025-07-18 15:48:24,317 - INFO - core.group.stat.smain - Stat router included in Dispatcher.
2025-07-18 15:48:24,317 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ rp_router –≤ group_text_router.
2025-07-18 15:48:24,318 - INFO - core.group.RP.rmain - RP router included and configured.
2025-07-18 15:48:24,318 - INFO - core.main.ez_main - main: group_text_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥ –¢–û–õ–¨–ö–û –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –õ–° –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ private_router.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: private_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
2025-07-18 15:48:24,319 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –ø–æ–ª–ª–∏–Ω–≥–∞ –±–æ—Ç–∞...
2025-07-18 15:48:24,320 - INFO - aiogram.dispatcher - Start polling
2025-07-18 15:48:24,320 - INFO - core.main.ez_main - Jokes task started.
2025-07-18 15:48:24,320 - WARNING - core.main.ez_main - Jokes task disabled: CHANNEL_ID is not set or invalid.
2025-07-18 15:48:24,320 - INFO - core.group.RP.rmain - Periodic HP recovery task started.
2025-07-18 15:48:24,994 - INFO - aiogram.dispatcher - Run polling for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:48:28,018 - DEBUG - censor_module - censor_message_handler: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: '–ø—Ä–æ—Ñ–∏–ª—å' –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –≤ —á–∞—Ç–µ -1002640920461.
2025-07-18 15:48:28,018 - DEBUG - censor_module - censor_message_handler: –í—ã–∑–æ–≤ censor_text_func –¥–ª—è —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:48:28,019 - DEBUG - censor_module - censor_module.censor_text_func: –ù–∞—á–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å' —Å –∫–æ—Ä–Ω—è–º–∏: ['–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '—Ö—É–µ', '–¥–æ–ª–±–∞', '–ø–µ–Ω', '–µ–±', '—ë–±', '–±–ª', '—Å–ø–µ—Ä–º', '—à–ª—é', '—Å–æ—Å–∞', '–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '–æ–≤–æ—â', '–æ–∫–∞–∫', '–∫–æ—Ä–æ—á–µ', '–ø–∏–∑–¥–∞', '—É—ë–±–∏—â–µ', '–±–¥—Å–º', '—Ñ–µ—Ç–∏—à', '—Ñ–∞—à–∏—Å—Ç', '–∞–¥–æ–ª—å—Ñ', '–≥–∏—Ç–ª–µ—Ä', '—Å—Ç–∏–Ω—Ç–ª–µ—Ä', '—à–ª—é—Ö', '—Ä–∞—Ñ', '–∫—É–Ω', '–¥–∞–Ω—è', '—á–µ–ª–æ–±—Ä–µ–∫', '–º–∞–º–∞', '–º–∞—Ç—å', '—Å–µ–∫—Å', '–ø–∞–ø–∞', '–±–∞—Ç—è', '–æ—Ç–µ—Ü', '–º–∏–Ω–µ—Ç', '–±–ª—è', '–∫—É–Ω–∏–ª–∏–Ω–≥—É—Å', '—Ç—Ä–∞—Ö']
2025-07-18 15:48:28,019 - DEBUG - censor_module - censor_module.censor_text_func: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–µ+\w*)\b|\b(?:\w*–¥+\W*–æ+\W*–ª+\W*–±+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–µ+\W*–±+\w*)\b|\b(?:\w*—ë+\W*–±+\w*)\b|\b(?:\w*–±+\W*–ª+\w*)\b|\b(?:\w*—Å+\W*–ø+\W*–µ+\W*—Ä+\W*–º+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\w*)\b|\b(?:\w*—Å+\W*–æ+\W*—Å+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–æ+\W*–≤+\W*–æ+\W*—â+\w*)\b|\b(?:\w*–æ+\W*–∫+\W*–∞+\W*–∫+\w*)\b|\b(?:\w*–∫+\W*–æ+\W*—Ä+\W*–æ+\W*—á+\W*–µ+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—É+\W*—ë+\W*–±+\W*–∏+\W*—â+\W*–µ+\w*)\b|\b(?:\w*–±+\W*–¥+\W*—Å+\W*–º+\w*)\b|\b(?:\w*—Ñ+\W*–µ+\W*—Ç+\W*–∏+\W*—à+\w*)\b|\b(?:\w*—Ñ+\W*–∞+\W*—à+\W*–∏+\W*—Å+\W*—Ç+\w*)\b|\b(?:\w*–∞+\W*–¥+\W*–æ+\W*–ª+\W*—å+\W*—Ñ+\w*)\b|\b(?:\w*–≥+\W*–∏+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—Å+\W*—Ç+\W*–∏+\W*–Ω+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\W*—Ö+\w*)\b|\b(?:\w*—Ä+\W*–∞+\W*—Ñ+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\w*)\b|\b(?:\w*–¥+\W*–∞+\W*–Ω+\W*—è+\w*)\b|\b(?:\w*—á+\W*–µ+\W*–ª+\W*–æ+\W*–±+\W*—Ä+\W*–µ+\W*–∫+\w*)\b|\b(?:\w*–º+\W*–∞+\W*–º+\W*–∞+\w*)\b|\b(?:\w*–º+\W*–∞+\W*—Ç+\W*—å+\w*)\b|\b(?:\w*—Å+\W*–µ+\W*–∫+\W*—Å+\w*)\b|\b(?:\w*–ø+\W*–∞+\W*–ø+\W*–∞+\w*)\b|\b(?:\w*–±+\W*–∞+\W*—Ç+\W*—è+\w*)\b|\b(?:\w*–æ+\W*—Ç+\W*–µ+\W*—Ü+\w*)\b|\b(?:\w*–º+\W*–∏+\W*–Ω+\W*–µ+\W*—Ç+\w*)\b|\b(?:\w*–±+\W*–ª+\W*—è+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\W*–∏+\W*–ª+\W*–∏+\W*–Ω+\W*–≥+\W*—É+\W*—Å+\w*)\b|\b(?:\w*—Ç+\W*—Ä+\W*–∞+\W*—Ö+\w*)\b'
2025-07-18 15:48:28,057 - DEBUG - censor_module - censor_module.censor_text_func: –ö–æ–Ω–µ—á–Ω—ã–π —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: '–ø—Ä–æ—Ñ–∏–ª—å', –ë—ã–ª–æ –ª–∏ —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–æ: False
2025-07-18 15:48:28,058 - DEBUG - censor_module - censor_message_handler: –†–µ–∑—É–ª—å—Ç–∞—Ç censor_text_func: was_censored=False
2025-07-18 15:48:28,058 - DEBUG - censor_module - censor_message_handler: –¶–ï–ù–ó–£–†–ê –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–ê: –û—Ä–∏–≥–∏–Ω–∞–ª: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:48:28,058 - DEBUG - censor_module - censor_message_handler: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ü–µ–Ω–∑—É—Ä—ã. –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
2025-07-18 15:48:28,058 - INFO - aiogram.event - Update id=836455719 is handled. Duration 47 ms by bot id=6543660809
2025-07-18 15:49:24,319 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000023008EB3D80>
2025-07-18 15:49:24,320 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000023008EB3D80> completed
2025-07-18 15:49:24,320 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E871F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842964.319764))
2025-07-18 15:49:24,321 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E871F0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752842964.319764)) completed
2025-07-18 15:49:24,321 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008EC63C0>)
2025-07-18 15:49:24,321 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008EC63C0>) completed
2025-07-18 15:49:24,321 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008EC63C0>)
2025-07-18 15:49:24,322 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008EC63C0>) completed
2025-07-18 15:49:24,322 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E871F0>)
2025-07-18 15:49:24,322 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E871F0>) completed
2025-07-18 15:50:24,322 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000023008F06520>
2025-07-18 15:50:24,323 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000023008F06520> completed
2025-07-18 15:50:24,323 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E87100>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752843024.3223484))
2025-07-18 15:50:24,324 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E87100>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752843024.3223484)) completed
2025-07-18 15:50:24,324 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008E66C40>)
2025-07-18 15:50:24,324 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008E66C40>) completed
2025-07-18 15:50:24,324 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008E66C40>)
2025-07-18 15:50:24,324 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008E66C40>) completed
2025-07-18 15:50:24,325 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E87100>)
2025-07-18 15:50:24,325 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E87100>) completed
2025-07-18 15:51:24,330 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x000002300214FBA0>
2025-07-18 15:51:24,331 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x000002300214FBA0> completed
2025-07-18 15:51:24,331 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E867A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752843084.33088))
2025-07-18 15:51:24,331 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000023008E867A0>, '\n        SELECT user_id, hp\n        FROM rp_user_stats\n        WHERE hp <= ? AND recovery_end_ts > 0 AND recovery_end_ts <= ?\n    ', (0, 1752843084.33088)) completed
2025-07-18 15:51:24,332 - DEBUG - aiosqlite - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008E66C40>)
2025-07-18 15:51:24,332 - DEBUG - aiosqlite - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000023008E66C40>) completed
2025-07-18 15:51:24,332 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008E66C40>)
2025-07-18 15:51:24,332 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000023008E66C40>) completed
2025-07-18 15:51:24,333 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E867A0>)
2025-07-18 15:51:24,333 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E867A0>) completed
2025-07-18 15:51:58,461 - INFO - aiogram.dispatcher - Polling stopped
2025-07-18 15:51:58,715 - INFO - core.main.ez_main - main: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞...
2025-07-18 15:51:58,715 - INFO - core.main.ez_main - main: –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω—ã.
2025-07-18 15:51:58,715 - DEBUG - core.group.stat.smain - Attempting to close profiles database connection.
2025-07-18 15:51:58,716 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E855D0>)
2025-07-18 15:51:58,716 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000023008E855D0>) completed
2025-07-18 15:51:58,716 - INFO - core.group.stat.smain - Profiles database connection closed successfully.
2025-07-18 15:51:58,716 - INFO - core.main.ez_main - main: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ProfileManager –∑–∞–∫—Ä—ã—Ç–æ.
2025-07-18 15:51:58,717 - INFO - core.main.ez_main - main: –°–µ—Å—Å–∏—è –±–æ—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∞. –í—ã—Ö–æ–¥.
2025-07-18 15:51:58,717 - INFO - aiogram.dispatcher - Polling stopped for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:51:58,718 - INFO - core.main.ez_main - main: –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é (KeyboardInterrupt).
2025-07-18 15:52:01,243 - WARNING - core.main.ez_main - CHANNEL_ID is not set or invalid. Jokes task will be disabled.
2025-07-18 15:52:01,413 - DEBUG - asyncio - Using proactor: IocpProactor
2025-07-18 15:52:01,414 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.
2025-07-18 15:52:01,414 - INFO - core.group.stat.smain - ProfileManager instance initialized.
2025-07-18 15:52:01,414 - DEBUG - core.group.stat.smain - Attempting to connect to profiles database asynchronously.
2025-07-18 15:52:01,414 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000022D2DC713A0>
2025-07-18 15:52:01,415 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000022D2DC713A0> completed
2025-07-18 15:52:01,415 - INFO - core.group.stat.smain - Profiles database connected asynchronously.
2025-07-18 15:52:01,415 - DEBUG - core.group.stat.smain - Starting asynchronous profiles database schema initialization.
2025-07-18 15:52:01,415 - DEBUG - aiosqlite - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022D2DC455D0>)
2025-07-18 15:52:01,415 - DEBUG - aiosqlite - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000022D2DC455D0>) completed
2025-07-18 15:52:01,415 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', [])
2025-07-18 15:52:01,416 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, '\n        CREATE TABLE IF NOT EXISTS users (\n            user_id INTEGER PRIMARY KEY,\n            username TEXT,\n            first_name TEXT,\n            last_name TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n        ', []) completed
2025-07-18 15:52:01,416 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', [])
2025-07-18 15:52:01,416 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, '\n        CREATE TABLE IF NOT EXISTS user_profiles (\n            profile_id INTEGER PRIMARY KEY AUTOINCREMENT,\n            user_id INTEGER UNIQUE,\n            hp INTEGER DEFAULT 100 CHECK(hp >= 0 AND hp <= 150),\n            level INTEGER DEFAULT 1 CHECK(level >= 1 AND level <= 169),\n            exp INTEGER DEFAULT 0,\n            lumcoins INTEGER DEFAULT 0,\n            daily_messages INTEGER DEFAULT 0,\n            total_messages INTEGER DEFAULT 0,\n            flames INTEGER DEFAULT 0,\n            last_work_time REAL DEFAULT 0,\n            FOREIGN KEY (user_id) REFERENCES users (user_id)\n        )\n        ', []) completed
2025-07-18 15:52:01,417 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', [])
2025-07-18 15:52:01,417 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000022D2DC858C0>, 'CREATE INDEX IF NOT EXISTS idx_user_profiles_user_id ON user_profiles(user_id)', []) completed
2025-07-18 15:52:01,417 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022D2DC455D0>)
2025-07-18 15:52:01,417 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022D2DC455D0>) completed
2025-07-18 15:52:01,417 - INFO - core.group.stat.smain - Asynchronous profiles database tables checked/created.
2025-07-18 15:52:01,418 - INFO - core.group.stat.smain - Asynchronous profiles database schema check/initialization completed.
2025-07-18 15:52:01,418 - INFO - core.main.ez_main - main: ProfileManager –ø–æ–¥–∫–ª—é—á–µ–Ω.
2025-07-18 15:52:01,418 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2025-07-18 15:52:01,418 - DEBUG - aiosqlite - executing <function connect.<locals>.connector at 0x0000022D2DC71620>
2025-07-18 15:52:01,418 - DEBUG - aiosqlite - operation <function connect.<locals>.connector at 0x0000022D2DC71620> completed
2025-07-18 15:52:01,419 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', [])
2025-07-18 15:52:01,419 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS users (\n                user_id INTEGER PRIMARY KEY,\n                username TEXT,\n                first_name TEXT NOT NULL,\n                last_active_ts REAL DEFAULT 0\n            )\n        ', []) completed
2025-07-18 15:52:01,419 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:52:01,419 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS value_subscriptions (\n                user_id INTEGER PRIMARY KEY,\n                subscribed_ts REAL NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:52:01,420 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:52:01,420 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS dialog_history (\n                history_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n                content TEXT NOT NULL,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:52:01,420 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', [])
2025-07-18 15:52:01,420 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE INDEX IF NOT EXISTS idx_dialog_history_user_ts ON dialog_history (user_id, timestamp DESC)\n        ', []) completed
2025-07-18 15:52:01,420 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:52:01,421 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS user_modes (\n                user_id INTEGER PRIMARY KEY,\n                mode TEXT NOT NULL DEFAULT 'saharoza',\n                rating_opportunities_count INTEGER DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:52:01,421 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", [])
2025-07-18 15:52:01,421 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, "\n            CREATE TABLE IF NOT EXISTS analytics_interactions (\n                interaction_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                timestamp REAL NOT NULL,\n                mode TEXT NOT NULL,\n                action_type TEXT NOT NULL DEFAULT 'message',\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ", []) completed
2025-07-18 15:52:01,421 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', [])
2025-07-18 15:52:01,421 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE INDEX IF NOT EXISTS idx_interactions_user_ts_mode ON analytics_interactions (user_id, timestamp DESC, mode)\n        ', []) completed
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', [])
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS analytics_ratings (\n                rating_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                user_id INTEGER NOT NULL,\n                rated_message_id INTEGER,\n                dialog_history_id INTEGER,\n                timestamp REAL NOT NULL,\n                rating INTEGER NOT NULL CHECK(rating IN (0, 1)),\n                message_preview TEXT,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE,\n                FOREIGN KEY(dialog_history_id) REFERENCES dialog_history(history_id) ON DELETE SET NULL\n            )\n        ', []) completed
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', [])
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022D2DC458A0>, '\n            CREATE TABLE IF NOT EXISTS rp_user_stats (\n                user_id INTEGER PRIMARY KEY,\n                hp INTEGER NOT NULL DEFAULT 100,\n                heal_cooldown_ts REAL NOT NULL DEFAULT 0,\n                recovery_end_ts REAL NOT NULL DEFAULT 0,\n                FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE\n            )\n        ', []) completed
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022D2DC458A0>)
2025-07-18 15:52:01,422 - DEBUG - aiosqlite - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022D2DC458A0>) completed
2025-07-18 15:52:01,423 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022D2DC458A0>)
2025-07-18 15:52:01,423 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022D2DC458A0>) completed
2025-07-18 15:52:01,423 - INFO - database - Database initialized successfully.
2025-07-18 15:52:01,423 - INFO - core.main.ez_main - main: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è StickerManager –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä–æ–≤.
2025-07-18 15:52:01,424 - INFO - core.main.ez_main - Stickers loaded from cache.
2025-07-18 15:52:01,424 - INFO - core.main.ez_main - Fetching stickers from Telegram...
2025-07-18 15:52:01,424 - INFO - core.main.ez_main - Stickers for mode 'saharoza' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:52:01,425 - INFO - core.main.ez_main - Stickers for mode 'dedinside' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:52:01,425 - INFO - core.main.ez_main - Stickers for mode 'genius' already loaded (possibly from cache). Skipping fetch.
2025-07-18 15:52:01,425 - INFO - core.main.ez_main - Stickers saved to cache.
2025-07-18 15:52:01,425 - DEBUG - core.main.ez_main - main: –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:52:01,425 - INFO - core.main.ez_main - main: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã (–ø–µ—Ä–≤—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –≥—Ä—É–ø–ø).
2025-07-18 15:52:01,425 - DEBUG - censor_module - setup_censor_handlers: –ù–∞—á–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã.
2025-07-18 15:52:01,425 - DEBUG - censor_module - censor_module.load_bad_words: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞: C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt
2025-07-18 15:52:01,426 - INFO - censor_module - censor_module.load_bad_words: –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 43 –∫–æ—Ä–Ω–µ–π '–∑–ª—ã—Ö' —Å–ª–æ–≤ –∏–∑ C:\4chan\.GITHUB\MRS_bot\data\bad_words.txt.
2025-07-18 15:52:01,426 - DEBUG - censor_module - setup_censor_handlers: –í–∫–ª—é—á–µ–Ω–∏–µ censor_router –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:52:01,426 - INFO - censor_module - setup_censor_handlers: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥—É–ª—è —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:52:01,426 - INFO - core.main.ez_main - main: –ú–æ–¥—É–ª—å —Ü–µ–Ω–∑—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω.
2025-07-18 15:52:01,426 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
2025-07-18 15:52:01,427 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ stat_router –≤ group_text_router.
2025-07-18 15:52:01,427 - INFO - core.group.stat.smain - Registering stat router handlers.
2025-07-18 15:52:01,427 - INFO - core.group.stat.smain - Stat router included in Dispatcher.
2025-07-18 15:52:01,427 - INFO - core.main.ez_main - main: –í–∫–ª—é—á–µ–Ω–∏–µ rp_router –≤ group_text_router.
2025-07-18 15:52:01,427 - INFO - core.group.RP.rmain - RP router included and configured.
2025-07-18 15:52:01,427 - INFO - core.main.ez_main - main: group_text_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:52:01,428 - INFO - core.main.ez_main - main: –°–æ–∑–¥–∞–Ω —Ä–æ—É—Ç–µ—Ä –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:52:01,428 - INFO - core.main.ez_main - main: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥ –¢–û–õ–¨–ö–û –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–æ–≤.
2025-07-18 15:52:01,429 - INFO - core.main.ez_main - main: –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –õ–° –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ private_router.
2025-07-18 15:52:01,429 - INFO - core.main.ez_main - main: private_router —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä.
2025-07-18 15:52:01,429 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
2025-07-18 15:52:01,429 - INFO - core.main.ez_main - main: –ó–∞–ø—É—Å–∫ –ø–æ–ª–ª–∏–Ω–≥–∞ –±–æ—Ç–∞...
2025-07-18 15:52:01,429 - INFO - aiogram.dispatcher - Start polling
2025-07-18 15:52:01,429 - INFO - core.main.ez_main - Jokes task started.
2025-07-18 15:52:01,429 - WARNING - core.main.ez_main - Jokes task disabled: CHANNEL_ID is not set or invalid.
2025-07-18 15:52:01,430 - INFO - core.group.RP.rmain - Periodic HP recovery task started.
2025-07-18 15:52:02,595 - INFO - aiogram.dispatcher - Run polling for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:52:05,759 - DEBUG - censor_module - censor_message_handler: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: '–ø—Ä–æ—Ñ–∏–ª—å' –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –≤ —á–∞—Ç–µ -1002640920461.
2025-07-18 15:52:05,760 - DEBUG - censor_module - censor_message_handler: –í—ã–∑–æ–≤ censor_text_func –¥–ª—è —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:52:05,760 - DEBUG - censor_module - censor_module.censor_text_func: –ù–∞—á–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞: '–ø—Ä–æ—Ñ–∏–ª—å' —Å –∫–æ—Ä–Ω—è–º–∏: ['–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '—Ö—É–µ', '–¥–æ–ª–±–∞', '–ø–µ–Ω', '–µ–±', '—ë–±', '–±–ª', '—Å–ø–µ—Ä–º', '—à–ª—é', '—Å–æ—Å–∞', '–ø–∏–∑–¥', '—Ö—É–π', '–µ–ª–¥–∞', '—á–ª–µ–Ω', '–æ–≤–æ—â', '–æ–∫–∞–∫', '–∫–æ—Ä–æ—á–µ', '–ø–∏–∑–¥–∞', '—É—ë–±–∏—â–µ', '–±–¥—Å–º', '—Ñ–µ—Ç–∏—à', '—Ñ–∞—à–∏—Å—Ç', '–∞–¥–æ–ª—å—Ñ', '–≥–∏—Ç–ª–µ—Ä', '—Å—Ç–∏–Ω—Ç–ª–µ—Ä', '—à–ª—é—Ö', '—Ä–∞—Ñ', '–∫—É–Ω', '–¥–∞–Ω—è', '—á–µ–ª–æ–±—Ä–µ–∫', '–º–∞–º–∞', '–º–∞—Ç—å', '—Å–µ–∫—Å', '–ø–∞–ø–∞', '–±–∞—Ç—è', '–æ—Ç–µ—Ü', '–º–∏–Ω–µ—Ç', '–±–ª—è', '–∫—É–Ω–∏–ª–∏–Ω–≥—É—Å', '—Ç—Ä–∞—Ö']
2025-07-18 15:52:05,760 - DEBUG - censor_module - censor_module.censor_text_func: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: '\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–µ+\w*)\b|\b(?:\w*–¥+\W*–æ+\W*–ª+\W*–±+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–µ+\W*–±+\w*)\b|\b(?:\w*—ë+\W*–±+\w*)\b|\b(?:\w*–±+\W*–ª+\w*)\b|\b(?:\w*—Å+\W*–ø+\W*–µ+\W*—Ä+\W*–º+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\w*)\b|\b(?:\w*—Å+\W*–æ+\W*—Å+\W*–∞+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\w*)\b|\b(?:\w*—Ö+\W*—É+\W*–π+\w*)\b|\b(?:\w*–µ+\W*–ª+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—á+\W*–ª+\W*–µ+\W*–Ω+\w*)\b|\b(?:\w*–æ+\W*–≤+\W*–æ+\W*—â+\w*)\b|\b(?:\w*–æ+\W*–∫+\W*–∞+\W*–∫+\w*)\b|\b(?:\w*–∫+\W*–æ+\W*—Ä+\W*–æ+\W*—á+\W*–µ+\w*)\b|\b(?:\w*–ø+\W*–∏+\W*–∑+\W*–¥+\W*–∞+\w*)\b|\b(?:\w*—É+\W*—ë+\W*–±+\W*–∏+\W*—â+\W*–µ+\w*)\b|\b(?:\w*–±+\W*–¥+\W*—Å+\W*–º+\w*)\b|\b(?:\w*—Ñ+\W*–µ+\W*—Ç+\W*–∏+\W*—à+\w*)\b|\b(?:\w*—Ñ+\W*–∞+\W*—à+\W*–∏+\W*—Å+\W*—Ç+\w*)\b|\b(?:\w*–∞+\W*–¥+\W*–æ+\W*–ª+\W*—å+\W*—Ñ+\w*)\b|\b(?:\w*–≥+\W*–∏+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—Å+\W*—Ç+\W*–∏+\W*–Ω+\W*—Ç+\W*–ª+\W*–µ+\W*—Ä+\w*)\b|\b(?:\w*—à+\W*–ª+\W*—é+\W*—Ö+\w*)\b|\b(?:\w*—Ä+\W*–∞+\W*—Ñ+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\w*)\b|\b(?:\w*–¥+\W*–∞+\W*–Ω+\W*—è+\w*)\b|\b(?:\w*—á+\W*–µ+\W*–ª+\W*–æ+\W*–±+\W*—Ä+\W*–µ+\W*–∫+\w*)\b|\b(?:\w*–º+\W*–∞+\W*–º+\W*–∞+\w*)\b|\b(?:\w*–º+\W*–∞+\W*—Ç+\W*—å+\w*)\b|\b(?:\w*—Å+\W*–µ+\W*–∫+\W*—Å+\w*)\b|\b(?:\w*–ø+\W*–∞+\W*–ø+\W*–∞+\w*)\b|\b(?:\w*–±+\W*–∞+\W*—Ç+\W*—è+\w*)\b|\b(?:\w*–æ+\W*—Ç+\W*–µ+\W*—Ü+\w*)\b|\b(?:\w*–º+\W*–∏+\W*–Ω+\W*–µ+\W*—Ç+\w*)\b|\b(?:\w*–±+\W*–ª+\W*—è+\w*)\b|\b(?:\w*–∫+\W*—É+\W*–Ω+\W*–∏+\W*–ª+\W*–∏+\W*–Ω+\W*–≥+\W*—É+\W*—Å+\w*)\b|\b(?:\w*—Ç+\W*—Ä+\W*–∞+\W*—Ö+\w*)\b'
2025-07-18 15:52:05,800 - DEBUG - censor_module - censor_module.censor_text_func: –ö–æ–Ω–µ—á–Ω—ã–π —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç: '–ø—Ä–æ—Ñ–∏–ª—å', –ë—ã–ª–æ –ª–∏ —Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–æ: False
2025-07-18 15:52:05,800 - DEBUG - censor_module - censor_message_handler: –†–µ–∑—É–ª—å—Ç–∞—Ç censor_text_func: was_censored=False
2025-07-18 15:52:05,800 - DEBUG - censor_module - censor_message_handler: –¶–ï–ù–ó–£–†–ê –ù–ï –û–ë–ù–ê–†–£–ñ–ï–ù–ê: –û—Ä–∏–≥–∏–Ω–∞–ª: '–ø—Ä–æ—Ñ–∏–ª—å'
2025-07-18 15:52:05,801 - DEBUG - censor_module - censor_message_handler: –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5315054003 –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ü–µ–Ω–∑—É—Ä—ã. –°–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
2025-07-18 15:52:05,801 - INFO - aiogram.event - Update id=836455720 is handled. Duration 47 ms by bot id=6543660809
2025-07-18 15:52:14,718 - INFO - aiogram.dispatcher - Polling stopped
2025-07-18 15:52:14,984 - INFO - core.main.ez_main - main: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞...
2025-07-18 15:52:14,984 - INFO - core.main.ez_main - main: –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω—ã.
2025-07-18 15:52:14,984 - DEBUG - core.group.stat.smain - Attempting to close profiles database connection.
2025-07-18 15:52:14,984 - DEBUG - aiosqlite - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022D2DC455D0>)
2025-07-18 15:52:14,984 - DEBUG - aiosqlite - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022D2DC455D0>) completed
2025-07-18 15:52:14,985 - INFO - core.group.stat.smain - Profiles database connection closed successfully.
2025-07-18 15:52:14,985 - INFO - core.main.ez_main - main: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ProfileManager –∑–∞–∫—Ä—ã—Ç–æ.
2025-07-18 15:52:14,985 - INFO - core.main.ez_main - main: –°–µ—Å—Å–∏—è –±–æ—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∞. –í—ã—Ö–æ–¥.
2025-07-18 15:52:14,985 - INFO - aiogram.dispatcher - Polling stopped for bot @infernal_madam_bot id=6543660809 - '–ú—ç—Ä—Ä–∏ –®—ç–¥–æ—Éüíî'
2025-07-18 15:52:14,986 - INFO - core.main.ez_main - main: –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é (KeyboardInterrupt).
